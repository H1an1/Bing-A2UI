# Interactive View æ¶æ„æ–‡æ¡£

> **ç‰ˆæœ¬**: 2.0  
> **æ›´æ–°æ—¥æœŸ**: 2026-01-22  
> **è®¾è®¡ç†å¿µ**: "å®Œå…¨çº¦æŸä¸‹çš„å®Œå…¨è‡ªç”±"

---

## ğŸ“ ç³»ç»Ÿæ¶æ„æ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           User Query                                     â”‚
â”‚                        "Whale images"                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Domain Catalog                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   Schema    â”‚  â”‚  Validator  â”‚  â”‚   Prompt    â”‚  â”‚    Rules    â”‚    â”‚
â”‚  â”‚   (Zod)     â”‚  â”‚  + AutoFix  â”‚  â”‚  Generator  â”‚  â”‚  Enforcer   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     AI Generation (Gemini)                               â”‚
â”‚                                                                          â”‚
â”‚   Attempt 1 â”€â”€â†’ Validate â”€â”€â†’ Pass? â”€â”€â†’ Return                           â”‚
â”‚                    â”‚                                                     â”‚
â”‚                    â–¼ Fail                                                â”‚
â”‚   Attempt 2 â”€â”€â†’ Validate â”€â”€â†’ Pass? â”€â”€â†’ Return                           â”‚
â”‚   (with error    â”‚                                                       â”‚
â”‚    feedback)     â–¼ Fail                                                  â”‚
â”‚   Attempt 3 â”€â”€â†’ Validate â”€â”€â†’ Pass? â”€â”€â†’ Return                           â”‚
â”‚                    â”‚                                                     â”‚
â”‚                    â–¼ Fail                                                â”‚
â”‚                 Fallback                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    InteractiveDynamicView                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  header: { logo, trailing }                                      â”‚    â”‚
â”‚  â”‚  navigation: { type, items[] }                                   â”‚    â”‚
â”‚  â”‚  panels: { [id]: { blocks[] } }                                  â”‚    â”‚
â”‚  â”‚  theme: { mode, accent }                                         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      InteractiveRenderer                                 â”‚
â”‚                                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚   â”‚   Nav   â”‚ â”€â”€â†’ â”‚         Active Panel          â”‚                     â”‚
â”‚   â”‚  Items  â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                     â”‚
â”‚   â”‚         â”‚     â”‚  â”‚  Block 1 (image-grid)   â”‚  â”‚                     â”‚
â”‚   â”‚  â— Item â”‚     â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚                     â”‚
â”‚   â”‚  â—‹ Item â”‚     â”‚  â”‚  Block 2 (title)        â”‚  â”‚                     â”‚
â”‚   â”‚  â—‹ Item â”‚     â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚                     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚  Block 3 (stats/text)   â”‚  â”‚                     â”‚
â”‚                   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                     â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”² ç³»ç»Ÿè¾¹ç•Œ

### è¾¹ç•Œå†…ï¼ˆç³»ç»Ÿè´Ÿè´£ï¼‰

| å±‚é¢ | å†…å®¹ |
|------|------|
| **ç»“æ„çº¦æŸ** | ç»„ä»¶ç±»å‹ã€å±æ€§ç±»å‹ã€åµŒå¥—è§„åˆ™ |
| **éªŒè¯** | Zod Schema éªŒè¯ã€è‡ªåŠ¨ä¿®å¤ |
| **å¸ƒå±€è§„åˆ™** | å¯¼èˆªç±»å‹é€‰æ‹©ã€ç¬¬ä¸€å—å¿…é¡»æ˜¯å›¾ç‰‡ |
| **é‡è¯•æœºåˆ¶** | æœ€å¤š 2 æ¬¡é‡è¯•ï¼Œåé¦ˆé”™è¯¯ç»™ AI |
| **æ¸²æŸ“** | å°†æ•°æ®ç»“æ„æ¸²æŸ“ä¸º React ç»„ä»¶ |
| **å›¾ç‰‡æ³¨å…¥** | ä»å¤–éƒ¨ API è·å–å›¾ç‰‡ï¼Œæ³¨å…¥åˆ°ç»„ä»¶ |

### è¾¹ç•Œå¤–ï¼ˆAI è‡ªç”±å‘æŒ¥ï¼‰

| å±‚é¢ | å†…å®¹ |
|------|------|
| **å†…å®¹åˆ›ä½œ** | æ ‡é¢˜æ–‡æ¡ˆã€æè¿°å†…å®¹ã€äº‹å®æ•°æ® |
| **è§†è§‰é£æ ¼** | é…è‰²æ–¹æ¡ˆï¼ˆdark/lightï¼‰ã€å¼ºè°ƒè‰² |
| **ä¿¡æ¯æ¶æ„** | å¦‚ä½•ç»„ç»‡å†…å®¹ã€åˆ†å‡ ä¸ªå¯¼èˆªé¡¹ |
| **åˆ›æ„è¡¨è¾¾** | å‘½åé£æ ¼ã€å†…å®¹ç»„ç»‡æ–¹å¼ |

### è¾¹ç•Œå›¾ç¤º

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç³»ç»Ÿè¾¹ç•Œ                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    çº¦æŸå±‚ï¼ˆå¿…é¡»éµå®ˆï¼‰                        â”‚  â”‚
â”‚  â”‚  â€¢ ç»„ä»¶ç±»å‹: image-grid, title-section, stats...          â”‚  â”‚
â”‚  â”‚  â€¢ ç»“æ„è§„åˆ™: ç¬¬ä¸€ä¸ªå—å¿…é¡»æ˜¯å›¾ç‰‡                             â”‚  â”‚
â”‚  â”‚  â€¢ æ ¼å¼è§„åˆ™: ç¦æ­¢ emoji, ID æ ¼å¼                           â”‚  â”‚
â”‚  â”‚  â€¢ æ•°é‡é™åˆ¶: top-tabs â‰¤ 6, accordion 2-10 é¡¹              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                   â”‚
â”‚                              â–¼                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    è‡ªç”±å±‚ï¼ˆAI å†³å®šï¼‰                         â”‚  â”‚
â”‚  â”‚  â€¢ é€‰æ‹©å“ªç§ appType                                        â”‚  â”‚
â”‚  â”‚  â€¢ åˆ›å»ºå‡ ä¸ªå¯¼èˆªé¡¹ï¼Œå«ä»€ä¹ˆåå­—                                â”‚  â”‚
â”‚  â”‚  â€¢ æ¯ä¸ª panel æ”¾ä»€ä¹ˆå†…å®¹å—                                  â”‚  â”‚
â”‚  â”‚  â€¢ æ–‡æ¡ˆæ€ä¹ˆå†™ï¼Œæ•°æ®æ˜¯ä»€ä¹ˆ                                   â”‚  â”‚
â”‚  â”‚  â€¢ dark mode è¿˜æ˜¯ light mode                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“š Domain Catalog

Domain Catalog æ˜¯ç³»ç»Ÿçš„æ ¸å¿ƒé…ç½®ä¸­å¿ƒï¼Œå®šä¹‰äº† AI å¯ä»¥ä½¿ç”¨çš„æ‰€æœ‰ç»„ä»¶å’Œè§„åˆ™ã€‚

### ç›®å½•ç»“æ„

```
catalog/
â”œâ”€â”€ schema.ts          # Zod Schema å®šä¹‰
â”œâ”€â”€ validator.ts       # éªŒè¯å™¨ + è‡ªåŠ¨ä¿®å¤
â”œâ”€â”€ promptGenerator.ts # Prompt ç”Ÿæˆå™¨
â””â”€â”€ index.ts           # ç»Ÿä¸€å¯¼å‡º
```

### Catalog ç»„æˆ

```typescript
// 1. åº”ç”¨ç±»å‹ Catalog
AppTypeSchema = z.enum([
  'entity-browser',      // å®ä½“æµè§ˆ
  'timeline-explorer',   // æ—¶é—´çº¿æ¢ç´¢
  'location-guide',      // åœ°ç‚¹æŒ‡å—
  'comparison-view',     // å¯¹æ¯”è§†å›¾
  'step-guide',          // æ­¥éª¤æŒ‡å—
  'category-explorer',   // åˆ†ç±»æ¢ç´¢
  'gallery-showcase',    // ç”»å»Šå±•ç¤º
]);

// 2. å¯¼èˆªç±»å‹ Catalog
NavigationTypeSchema = z.enum([
  'top-tabs',      // é¡¶éƒ¨æ ‡ç­¾ (â‰¤6 é¡¹)
  'sidebar-list',  // ä¾§è¾¹åˆ—è¡¨ (>6 é¡¹)
  'timeline',      // æ—¶é—´çº¿
  'step-list',     // æ­¥éª¤åˆ—è¡¨
]);

// 3. å†…å®¹å— Catalog
ContentBlockSchema = z.discriminatedUnion('type', [
  { type: 'image-grid',    content: ImageGridContentSchema },
  { type: 'hero',          content: HeroContentSchema },
  { type: 'title-section', content: TitleSectionContentSchema },
  { type: 'text-body',     content: TextBodyContentSchema },
  { type: 'accordion',     content: AccordionContentSchema },
  { type: 'fact-box',      content: FactBoxContentSchema },
  { type: 'stats',         content: StatsContentSchema },
  { type: 'tags',          content: TagsContentSchema },
  { type: 'comparison',    content: ComparisonContentSchema },
  { type: 'feature-list',  content: FeatureListContentSchema },
]);
```

### Catalog çš„ä¸‰é‡ä½œç”¨

```
                    Catalog å®šä¹‰
                         â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â–¼              â–¼              â–¼
    TypeScript      Zod Schema      AI Prompt
       Types         éªŒè¯å™¨          ç³»ç»ŸæŒ‡ä»¤
         â”‚              â”‚              â”‚
         â–¼              â–¼              â–¼
    ç¼–è¯‘æ—¶æ£€æŸ¥      è¿è¡Œæ—¶éªŒè¯      AI è¡Œä¸ºçº¦æŸ
```

---

## ğŸ“Š èµ„æ–™æ¨¡å‹ (Data Model)

èµ„æ–™æ¨¡å‹å®šä¹‰äº†ç³»ç»Ÿå¤„ç†çš„æ•°æ®ç»“æ„ã€‚

### æ ¸å¿ƒæ•°æ®ç»“æ„

```typescript
interface InteractiveDynamicView {
  // å…ƒä¿¡æ¯
  query: string;                    // ç”¨æˆ·æŸ¥è¯¢
  reasoning: string;                // AI è®¾è®¡ç†ç”±
  
  // åº”ç”¨é…ç½®
  appType: AppType;                 // åº”ç”¨ç±»å‹
  theme: AppTheme;                  // ä¸»é¢˜é…ç½®
  
  // UI ç»“æ„
  header?: Header;                  // é¡¶éƒ¨ Header
  navigation: Navigation;           // å¯¼èˆªç³»ç»Ÿ
  panels: Record<string, Panel>;    // å†…å®¹é¢æ¿
  sidebar?: Sidebar;                // ä¾§è¾¹æ ï¼ˆå¯é€‰ï¼‰
  footer?: Footer;                  // é¡µè„šï¼ˆå¯é€‰ï¼‰
  
  // çŠ¶æ€
  initialState: {
    activeId: string;               // åˆå§‹æ¿€æ´»çš„å¯¼èˆªé¡¹
  };
}
```

### æ•°æ®æµå‘

```
External Images API                AI Generated Content
       â”‚                                    â”‚
       â–¼                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  images: []     â”‚              â”‚  view: {...}    â”‚
â”‚  (URLs array)   â”‚              â”‚  (Structure)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                              â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  InteractiveRenderer â”‚
              â”‚                      â”‚
              â”‚  Merge: Structure +  â”‚
              â”‚         Images       â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚    Rendered UI      â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ›ï¸ ç»“æ„æ¨¡å‹ (Structure Model)

ç»“æ„æ¨¡å‹å®šä¹‰äº† UI çš„å±‚æ¬¡å…³ç³»ã€‚

### å±‚æ¬¡ç»“æ„

```
InteractiveDynamicView
â”‚
â”œâ”€â”€ header (å¯é€‰)
â”‚   â”œâ”€â”€ logo: { icon, text }
â”‚   â””â”€â”€ trailing: string
â”‚
â”œâ”€â”€ navigation (å¿…éœ€)
â”‚   â”œâ”€â”€ type: 'top-tabs' | 'sidebar-list' | 'timeline' | 'step-list'
â”‚   â”œâ”€â”€ position: 'top' | 'bottom' | 'left' | 'right'
â”‚   â””â”€â”€ items: NavigationItem[]
â”‚       â”œâ”€â”€ id: string
â”‚       â”œâ”€â”€ label: string
â”‚       â””â”€â”€ sublabel?: string
â”‚
â”œâ”€â”€ panels (å¿…éœ€)
â”‚   â””â”€â”€ [navItemId]: Panel
â”‚       â”œâ”€â”€ id: string
â”‚       â”œâ”€â”€ layout: 'full-width' | 'split' | 'grid'
â”‚       â””â”€â”€ blocks: ContentBlock[]
â”‚           â”œâ”€â”€ type: BlockType
â”‚           â””â”€â”€ content: BlockContent
â”‚
â”œâ”€â”€ sidebar (å¯é€‰)
â”‚   â”œâ”€â”€ position: 'left' | 'right'
â”‚   â””â”€â”€ blocks: ContentBlock[]
â”‚
â””â”€â”€ footer (å¯é€‰)
    â””â”€â”€ blocks: ContentBlock[]
```

### å†…å®¹å—ç»“æ„

```
ContentBlock
â”‚
â”œâ”€â”€ image-grid
â”‚   â””â”€â”€ { columns: 2-4, count: 2-12 }
â”‚
â”œâ”€â”€ hero
â”‚   â””â”€â”€ { overline?, title, subtitle?, badges?[] }
â”‚
â”œâ”€â”€ title-section
â”‚   â””â”€â”€ { overline?, title, description? }
â”‚
â”œâ”€â”€ text-body
â”‚   â””â”€â”€ { text, highlight?: { title, text } }
â”‚
â”œâ”€â”€ accordion
â”‚   â””â”€â”€ { title?, items: [{ title, content }] }
â”‚
â”œâ”€â”€ fact-box
â”‚   â””â”€â”€ { title, text }
â”‚
â”œâ”€â”€ stats
â”‚   â””â”€â”€ { items: [{ value, label, unit? }] }
â”‚
â”œâ”€â”€ tags
â”‚   â””â”€â”€ { tags: string[] }
â”‚
â”œâ”€â”€ comparison
â”‚   â””â”€â”€ { left: { title, items[] }, right: { title, items[] } }
â”‚
â””â”€â”€ feature-list
    â””â”€â”€ { title?, items: [{ title, description? }] }
```

---

## ğŸ¯ children.explicitList ä¸ template çš„ä½¿ç”¨ç­–ç•¥

### æ¦‚å¿µè¯´æ˜

| æ¦‚å¿µ | å®šä¹‰ | æˆ‘ä»¬çš„å®ç° |
|------|------|-----------|
| **explicitList** | AI æ˜¾å¼åˆ—å‡ºæ‰€æœ‰å­å…ƒç´  | `navigation.items`, `panel.blocks` |
| **template** | é¢„å®šä¹‰çš„å¯å¤ç”¨ç»“æ„ | `ContentBlock` ç»„ä»¶åº“ |

### explicitList ç­–ç•¥

AI å¿…é¡»æ˜¾å¼åˆ—å‡ºæ‰€æœ‰å¯¼èˆªé¡¹å’Œå†…å®¹å—ï¼Œä¸èƒ½ä½¿ç”¨å¾ªç¯æˆ–å¼•ç”¨ï¼š

```typescript
// âœ… æ­£ç¡®ï¼šæ˜¾å¼åˆ—å‡º
{
  "navigation": {
    "items": [
      { "id": "blue-whale", "label": "Blue Whale" },
      { "id": "humpback", "label": "Humpback" },
      { "id": "orca", "label": "Orca" }
    ]
  },
  "panels": {
    "blue-whale": { "blocks": [...] },
    "humpback": { "blocks": [...] },
    "orca": { "blocks": [...] }
  }
}

// âŒ é”™è¯¯ï¼šä¸èƒ½ä½¿ç”¨å¼•ç”¨æˆ–å¾ªç¯
{
  "panels": {
    "$ref": "#/templates/whale-panel"  // ä¸æ”¯æŒ
  }
}
```

### template ç­–ç•¥

å†…å®¹å—æ˜¯é¢„å®šä¹‰çš„ templateï¼ŒAI åªéœ€æŒ‡å®šç±»å‹å’Œæ•°æ®ï¼š

```typescript
// AI è¾“å‡ºï¼ˆå£°æ˜å¼ï¼‰
{
  "type": "stats",
  "content": {
    "items": [
      { "value": "100", "label": "Length", "unit": "ft" },
      { "value": "200", "label": "Weight", "unit": "tons" }
    ]
  }
}

// ç³»ç»Ÿæ¸²æŸ“ï¼ˆå‘½ä»¤å¼ï¼‰
<StatsBlock>
  <StatItem value="100" label="Length" unit="ft" />
  <StatItem value="200" label="Weight" unit="tons" />
</StatsBlock>
```

### ç­–ç•¥çŸ©é˜µ

```
                    AI æ§åˆ¶ç¨‹åº¦
                    ä½ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ é«˜
                    â”‚
ç»“æ„å¤æ‚åº¦          â”‚
    â”‚               â”‚
    é«˜              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚               â”‚  â”‚   Panel     â”‚  AI å†³å®šï¼š
    â”‚               â”‚  â”‚  Structure  â”‚  - æœ‰å‡ ä¸ª panel
    â”‚               â”‚  â”‚             â”‚  - æ¯ä¸ª panel çš„ blocks
    â”‚               â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚               â”‚
    â”‚               â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚               â”‚  â”‚   Block     â”‚  AI é€‰æ‹©ï¼š
    â”‚               â”‚  â”‚  Template   â”‚  - ä½¿ç”¨å“ªä¸ª template
    â”‚               â”‚  â”‚             â”‚  - å¡«å……ä»€ä¹ˆæ•°æ®
    â”‚               â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚               â”‚
    ä½              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚               â”‚  â”‚   Block     â”‚  ç³»ç»Ÿå›ºå®šï¼š
    â”‚               â”‚  â”‚  Rendering  â”‚  - å¦‚ä½•æ¸²æŸ“
    â–¼               â”‚  â”‚             â”‚  - æ ·å¼å’Œäº¤äº’
                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡

| é€‰æ‹© | åŸå›  |
|------|------|
| **Navigation ç”¨ explicitList** | AI éœ€è¦æ ¹æ®æŸ¥è¯¢å†³å®šæœ‰å‡ ä¸ªåˆ†ç±»ï¼Œä¸èƒ½é¢„è®¾ |
| **Blocks ç”¨ explicitList** | AI éœ€è¦å†³å®šæ¯ä¸ª panel çš„å†…å®¹ç»„åˆ |
| **Block ç±»å‹ç”¨ template** | ç¡®ä¿æ¸²æŸ“ä¸€è‡´æ€§ï¼Œçº¦æŸ AI è¾“å‡ºæ ¼å¼ |
| **Block æ¸²æŸ“ç”¨å›ºå®šä»£ç ** | ç¨³å®šæ€§å’Œæ€§èƒ½ï¼Œä¸å…è®¸ AI ç”Ÿæˆæ¸²æŸ“é€»è¾‘ |

---

## ğŸ”’ éªŒè¯ä¸é‡è¯•æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Validation Flow                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  AI Output â”€â”€â†’ JSON Parse â”€â”€â†’ Zod Validate â”€â”€â†’ Pass?        â”‚
â”‚                    â”‚              â”‚              â”‚           â”‚
â”‚                    â–¼              â–¼              â–¼           â”‚
â”‚               Parse Error    Validation      Return         â”‚
â”‚                    â”‚          Errors          View          â”‚
â”‚                    â”‚              â”‚                          â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                           â–¼                                  â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                    â”‚  Auto Fix   â”‚                           â”‚
â”‚                    â”‚  Attempt    â”‚                           â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                           â”‚                                  â”‚
â”‚                           â–¼                                  â”‚
â”‚                    Revalidate â”€â”€â†’ Pass? â”€â”€â†’ Return          â”‚
â”‚                           â”‚                                  â”‚
â”‚                           â–¼ Fail                             â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                    â”‚   Format    â”‚                           â”‚
â”‚                    â”‚   Errors    â”‚                           â”‚
â”‚                    â”‚   for AI    â”‚                           â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                           â”‚                                  â”‚
â”‚                           â–¼                                  â”‚
â”‚                    Retry (max 2) â”€â”€â†’ ... â”€â”€â†’ Fallback       â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
src/app/
â”œâ”€â”€ catalog/                      # Domain Catalog
â”‚   â”œâ”€â”€ schema.ts                 # Zod Schema å®šä¹‰
â”‚   â”œâ”€â”€ validator.ts              # éªŒè¯å™¨ + è‡ªåŠ¨ä¿®å¤
â”‚   â”œâ”€â”€ promptGenerator.ts        # Prompt ç”Ÿæˆå™¨
â”‚   â””â”€â”€ index.ts                  # ç»Ÿä¸€å¯¼å‡º
â”‚
â”œâ”€â”€ services/
â”‚   â””â”€â”€ interactiveService.ts     # AI è°ƒç”¨ + é‡è¯•é€»è¾‘
â”‚
â”œâ”€â”€ components/
â”‚   â””â”€â”€ interactive/
â”‚       â”œâ”€â”€ types.ts              # TypeScript ç±»å‹
â”‚       â”œâ”€â”€ InteractiveRenderer.tsx  # ä¸»æ¸²æŸ“å™¨
â”‚       â”œâ”€â”€ InteractiveComponents.tsx # å†…å®¹å—ç»„ä»¶åº“
â”‚       â””â”€â”€ icons.tsx             # SVG å›¾æ ‡
â”‚
â””â”€â”€ docs/
    â””â”€â”€ INTERACTIVE_VIEW_ARCHITECTURE.md  # æœ¬æ–‡æ¡£
```

---

## ğŸ¯ è®¾è®¡åŸåˆ™æ€»ç»“

### å®Œå…¨çº¦æŸä¸‹çš„å®Œå…¨è‡ªç”±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                              â”‚
â”‚   çº¦æŸ (Constraints)          è‡ªç”± (Freedom)                 â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”‚
â”‚   â€¢ ç»„ä»¶ç±»å‹å›ºå®š              â€¢ é€‰æ‹©å“ªäº›ç»„ä»¶                  â”‚
â”‚   â€¢ å±æ€§æ ¼å¼å›ºå®š              â€¢ å¡«å……ä»€ä¹ˆå†…å®¹                  â”‚
â”‚   â€¢ ç»“æ„è§„åˆ™å›ºå®š              â€¢ å¦‚ä½•ç»„ç»‡ä¿¡æ¯                  â”‚
â”‚   â€¢ æ¸²æŸ“æ–¹å¼å›ºå®š              â€¢ è§†è§‰é£æ ¼é€‰æ‹©                  â”‚
â”‚                                                              â”‚
â”‚   ç³»ç»Ÿä¿è¯ï¼šç¨³å®š              AI å‘æŒ¥ï¼šåˆ›æ„                   â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¼˜å…ˆçº§

1. **ç¨³å®š** - 100% èƒ½æ¸²æŸ“ï¼Œä¸æŠ¥é”™
2. **ç¾è§‚** - è§†è§‰å±‚æ¬¡æ¸…æ™°ï¼Œå›¾ç‰‡ä¼˜å…ˆ
3. **ç›¸å…³** - å†…å®¹çœŸæ­£è§£å†³ç”¨æˆ·é—®é¢˜
4. **åˆ›æ„** - åœ¨æ¡†æ¶å†…æœ‰æƒŠå–œ

---

## ğŸ“ é™„å½•ï¼šå®Œæ•´ Schema ç¤ºä¾‹

```typescript
// ä¸€ä¸ªå®Œæ•´çš„ InteractiveDynamicView ç¤ºä¾‹
{
  "reasoning": "ç”¨æˆ·æŸ¥è¯¢é²¸é±¼ï¼Œé€‚åˆç”¨ entity-browser å±•ç¤ºä¸åŒé²¸é±¼ç§ç±»",
  "appType": "entity-browser",
  "theme": {
    "mode": "dark",
    "accent": "#0ea5e9"
  },
  "header": {
    "logo": { "icon": "", "text": "WHALE GUIDE" },
    "trailing": "Ocean Giants Explorer"
  },
  "navigation": {
    "type": "top-tabs",
    "position": "top",
    "items": [
      { "id": "blue-whale", "label": "Blue Whale", "sublabel": "The Largest" },
      { "id": "humpback", "label": "Humpback", "sublabel": "The Singer" },
      { "id": "orca", "label": "Orca", "sublabel": "The Hunter" }
    ]
  },
  "initialState": {
    "activeId": "blue-whale"
  },
  "panels": {
    "blue-whale": {
      "id": "blue-whale",
      "layout": "full-width",
      "blocks": [
        {
          "type": "image-grid",
          "content": { "columns": 3, "count": 6 }
        },
        {
          "type": "title-section",
          "content": {
            "title": "Blue Whale",
            "description": "The largest animal ever known to exist on Earth."
          }
        },
        {
          "type": "stats",
          "content": {
            "items": [
              { "value": "100", "label": "Length", "unit": "ft" },
              { "value": "200", "label": "Weight", "unit": "tons" },
              { "value": "90", "label": "Lifespan", "unit": "years" }
            ]
          }
        },
        {
          "type": "fact-box",
          "content": {
            "title": "Did You Know?",
            "text": "A blue whale's heart is so big that a small child could crawl through its arteries."
          }
        }
      ]
    }
    // ... å…¶ä»– panels
  }
}
```

---

*æ–‡æ¡£ç»“æŸ*




